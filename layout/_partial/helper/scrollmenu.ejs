<% if (theme.scrollmenu.enable){ %>
<script>
    $(document).ready(()=>{
        var $sidebar = $("#sidebar")
        var h = $sidebar.height() // 元素高度
        var bh = document.body.clientHeight // 客户端窗口高度
        var ch = $("#content").height() // 内容高度
        $(window).scroll(function() {
            var sh = $(window).scrollTop() // 滚动条位置
            if ( sh + bh > h && ch > h) {
               $sidebar.css("position", "fixed")
            } 
            else {
               $sidebar.css("position", "relative")
            }
        })

        // 刷新后判断
        var sh = $(window).scrollTop() // 滚动条位置
        if ( sh + bh > h && ch > h) {
            $sidebar.css("position", "fixed")
        }

    })
</script>
<% } %>